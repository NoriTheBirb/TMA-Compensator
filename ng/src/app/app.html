<router-outlet></router-outlet>

<div class="companion" [class.is-hidden]="companion.hidden()">
	<button
		type="button"
		class="companion-square"
		aria-label="Abrir Noir"
		(click)="$event.preventDefault(); $event.stopPropagation(); companion.toggleOpen()"
	>
		<img class="companion-img" [src]="companion.imageUrl()" alt="" />
		<span class="companion-badge" *ngIf="companion.unreadBroadcastCount() > 0">{{ companion.unreadBadgeText() }}</span>
	</button>

	<div class="companion-bubble" [class.is-open]="companion.open()" (click)="$event.stopPropagation()">
		<div class="companion-bubble-head">
			<div class="companion-title">{{ companion.title() }}</div>
			<button type="button" class="companion-close" aria-label="Fechar" (click)="companion.open.set(false)">×</button>
		</div>
		<div class="companion-body">{{ companion.text() }}</div>
		<div class="companion-actions" *ngIf="companion.canReplayBroadcasts()">
			<button type="button" class="companion-action" (click)="companion.playLast3Broadcasts()">Tocar últimas 3</button>
		</div>
	</div>
</div>