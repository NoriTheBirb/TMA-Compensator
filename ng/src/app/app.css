
.companion {
	position: fixed;
	right: 18px;
	bottom: 18px;
	z-index: 9998;
}

.companion.is-hidden {
	display: none;
}

.companion-square {
	width: 270px;
	height: 270px;
	border: none;
	background: transparent;
	box-shadow: none;
	border-radius: 0;
	cursor: pointer;
	padding: 0;
	overflow: visible;
}

.companion-square:hover {
	transform: translateY(-1px);
}

.companion-img {
	width: 100%;
	height: 100%;
	object-fit: contain;
	display: block;
	background: transparent;
	transform: scaleX(-1);
	filter: drop-shadow(0 18px 55px rgba(0,0,0,0.28));
}

.companion-bubble {
	position: absolute;
	right: 0;
	bottom: 284px;
	width: min(380px, calc(100vw - 36px));
	border-radius: 16px;
	padding: 12px;
	background: color-mix(in oklab, var(--card) 96%, var(--surface));
	border: 1px solid color-mix(in oklab, var(--border, rgba(255,255,255,0.15)) 45%, transparent);
	box-shadow: 0 28px 90px rgba(0,0,0,0.30);
	opacity: 0;
	transform: translateY(6px);
	pointer-events: none;
	transition: opacity 160ms ease, transform 160ms ease;
}

.companion-bubble.is-open {
	opacity: 1;
	transform: translateY(0);
	pointer-events: auto;
}

.companion-bubble-head {
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: 10px;
}

.companion-title {
	font-weight: 980;
	letter-spacing: -0.2px;
}

.companion-close {
	width: 34px;
	height: 34px;
	border-radius: 12px;
	border: 1px solid color-mix(in oklab, var(--border, rgba(255,255,255,0.15)) 45%, transparent);
	background: color-mix(in oklab, var(--surface) 70%, transparent);
	color: inherit;
	cursor: pointer;
	font-weight: 950;
}

.companion-body {
	margin-top: 8px;
	color: var(--muted);
	font-weight: 850;
	line-height: 1.25;
}

.companion-actions {
	margin-top: 10px;
	display: flex;
	justify-content: flex-end;
}

.companion-action {
	border: 1px solid color-mix(in oklab, var(--border, rgba(255,255,255,0.15)) 45%, transparent);
	background: color-mix(in oklab, var(--surface) 70%, transparent);
	color: inherit;
	border-radius: 12px;
	padding: 8px 10px;
	font-weight: 950;
	cursor: pointer;
}
